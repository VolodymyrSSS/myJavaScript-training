<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>myjs: цикл while</title>
    <style>
    body {
        background-color: tan;
        margin: 0;
        font-family: Verdana, sans-serif;
    }

    .title {
        color: red;
        text-align: center;
        font-weight:700;
    }

    .code-ex {
        width: 50%;
        font-family: sans-serif;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
    }

    .task{
        width: 50%;
        padding: 15px 25px;
        color: navy;
        background-color: #e2e2e2;
        margin: 35px auto;
    }

    .code-ex {
        width: 30%;
        font-family: sans-serif;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
    }

    p {
        width: 80%;
        margin: 0 auto;
    }
    </style>
</head>
<body>

    <h2 class="title">Basic JS: цикл while</h2>

    <h4 class="task">Какое последнее значение выведет этот код? Почему?</h4>

    <p class="code-ex">
        <code>
            let i = 3;<br>
            while (i) {<br>
              alert( i-- );<br>
            }<br>
        </code>
    </p>
    <br>

    <p><b>Ответ</b>: последнее значение <b>1</b></p>
    <br>

    <p>Любое выражение или переменная может быть условием цикла. <b>Условие while вычисляется 
        и преобразуется в логическое значение.</b><br>
        В задаче каждое выполнение цикла уменьшает i. Проверка while(i) остановит цикл при i = 0, поэтому 
        последним значением выведется 1.
    </p>
    <br>

    <p class="code-ex" style="width: 60%;">
        <code>
            let i = 3;<br>
            while (i) { (while (i) – более краткий вариант while (i != 0))<br>
              console.log( i );<br>
              i--; (когда i будет равно 0, условие станет ложным, и цикл остановится)<br> 
            }<br>
        </code>
    </p>
    <br>

    <script>
        let i2 = 3;
        while (i2) {
            console.log( i2 ); // выводит 3, затем 2, затем 1
          i2--;
        }
    </script>

    <p>Но если по-порядку, то для многократного повторения одного участка кода предусмотрены циклы.<br>
        Код из тела цикла выполняется, пока условие condition истинно.
    </p>
    <br>

    <p class="code-ex">Цикл while имеет следующий синтаксис:<br>
        <code>
            <b>while (condition) {<br>
              // код .. также называемый 'телом цикла'<br>
            }</b><br>
            <br>
        </code>
    </p>
    <br>

    <p>Например, цикл ниже выводит i, пока i < 3:</p>
    <br>

    <p class="code-ex"><br>
        <code>
            let i = 0;<br>
            while (i < 3) { // выводит 0, затем 1, затем 2<br>
              alert( i );<br>
              i++;<br>
            }<br>
        </code>
    </p>
    <br>

    <script>
        let i1 = 0;
        while (i1 < 3) { // выводит 0, затем 1, затем 2
          console.log( i1 );
          i1++;
        }
    </script>

    <p>Одно выполнение тела цикла по-научному называется итерация. Цикл в примере выше 
        совершает три итерации.<br>
    </p>
    <br>

    <p>Если тело цикла состоит лишь из одной инструкции, мы можем опустить фигурные скобки {…}:</p>
    <br>

    <p>Проверку условия можно разместить под телом цикла, используя специальный синтаксис <b>do..while</b>
    </p>
    <br>

    <p class="code-ex"><br>
        <code>
            let i = 0;<br>
            do {<br>
              console.log( i );<br>
              i++;<br>
            } while (i < 3);<br>
        </code>
    </p>
    <br>

    <script>
        let i = 0;
        do {
            console.log( i ); // выводит 0, затем 1, затем 2
            i++;
        } while (i < 3);
    </script>

    <p>В коде выше, цикл сначала выполнит тело, а затем проверит условие condition, и пока его значение 
        равно true, он будет выполняться снова и снова.<br>
        Такая форма синтаксиса оправдана, если вы хотите, чтобы тело цикла выполнилось хотя бы один раз, 
        даже если условие окажется ложным. На практике чаще используется форма с предусловием: while(…) {…}
    </p>

    <h4 class="task">Какие значения выведет цикл while?<br>
        Для каждого цикла запишите, какие значения он выведет. Оба цикла выведут console.log с одинаковыми 
        значениями или нет?
    </h4>

    <p class="code-ex"><br>
        <code>
            Префиксная форма:<br>
            let i = 0;<br>
            while (++i < 5) console.log( i );<br>
            <br>
            Постфиксная форма:<br>
            let i = 0;<br>
            while (i++ < 5) console.log( i );<br>
        </code>
    </p>
    <br>

    <p><b>Ответ:</b></p>
    <br>

    <p><em>Префиксная форма: ++i:</em> <b>будет выведено от 1 до 4</b></p>

    <p>Первое значение: i = 1, так как операция ++i сначала увеличит i, а потом уже произойдёт сравнение и 
        выполнение alert. Далее 2, 3, 4… Значения выводятся одно за другим. Для каждого значения сначала 
        происходит увеличение, а потом – сравнение, так как ++ стоит перед переменной.
        При i = 4 произойдёт увеличение i до 5, а потом сравнение while (5 < 5) – это неверно. Поэтому на 
        этом цикл и остановится, а значение 5 выведено не будет.
    </p>
    <br>

    <script>
        let i3 = 0;
        while (++i3 < 5) console.log( i3 );
    </script>

    <p><em>Постфиксная форма:</em> <b>будет выведено от 1 до 5</b></p>

    <p>Первое значение: i = 1. Остановимся на нём подробнее. Оператор i++ увеличивает i, возвращая старое 
        значение, так что в сравнении i++ < 5 будет участвовать старое i = 0.
        Но последующий вызов alert уже не относится к этому выражению, так что получит новый i = 1.
        Далее 2, 3, 4… Для каждого значения сначала происходит сравнение, а потом – увеличение, и затем 
        срабатывание console.log. Окончание цикла: при i = 4 произойдёт сравнение while (4 < 5) – верно, после 
        этого сработает i++, увеличив i до 5, так что значение 5 будет выведено. Оно станет последним.
        Значение i = 5 последнее, потому что на следующем шаге while (5 < 5) ложно. То есть - вначале 
        сравнивает, а для этого дойдёт аж до 5ти и только потом добавляет.
    </p>
    <br>

    <script>
        let i4 = 0;
        while (i4++ < 5) console.log( i4 );
    </script>
    

    <h4 class="task">Напишите цикл, который предлагает prompt ввести число, большее 100. Если посетитель 
        ввёл другое число – попросить ввести ещё раз, и так далее. Цикл должен спрашивать число пока либо 
        посетитель не введёт число, большее 100, либо не нажмёт кнопку Отмена (ESC). Предполагается, что 
        посетитель вводит только числа. Предусматривать обработку нечисловых строк в этой задаче 
        необязательно.
    </h4>

    <p><b>Решение</b>:</p>
    <br>

    <p class="code-ex" style="width: 40%;">
        <code>
            let num;<br>
            do {<br>
                num = prompt("Enter the number more than 100", 101);<br>
                console.log( num );<br>
            }<br>
            while (num <= 100 && num);<br>
        </code>
    </p>
    <br>

    <p>Цикл do..while повторяется, пока верны две проверки:<br>
        1. Проверка num <= 100 – то есть, введённое число всё ещё меньше 100.<br>
        2. Проверка && num вычисляется в false, когда num имеет значение null или пустая строка ''. 
        В этом случае цикл while тоже нужно прекратить.<br>
        Кстати, сравнение num <= 100 при вводе null даст true, так что вторая проверка необходима.
    </p>

    <script>
        let num;
        do {
            num = prompt("Enter the number more than 100", 101);
            console.log( num );
        }
        while (num <= 100 && num);
    </script>

    <h4 class="task"> У нас дан код с использованием цикла for. Перепишите код, заменив цикл 
        for на while, без изменения поведения цикла.
    </h4>

    <p class="code-ex" style="width: 40%;">
        <code>
            for (let i = 0; i < 3; i++) {<br>
                console.log( `number ${i}!` );<br>
              }<br>
        </code>
    </p>
    <br>

    <p><b>Решение</b>:</p>

    <p class="code-ex" style="width: 40%;">
        <code>
        let i = 0;<br>
        while (i < 3) {<br>
            console.log( `number ${i}!` );<br>
            i++;<br>
        }<br>
        </code>
    </p>
    <br>

    <script>
        let i5 = 0;
        while (i5 < 3) {
            console.log( `number ${i5}!` );
            i5++;
        }
    </script>
    
</body>

</html>