<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Using arrays methods</title>
    <style>
      body {
        background-color: tan;
        margin: 0;
        font-family: Verdana, sans-serif;
      }

      .emph {
        color: red;
      }

      .title {
        color: navy;
        text-align: center;
        font-weight: 700;
      }

      .task {
        width: 50%;
        padding: 15px 25px;
        color: navy;
        background-color: #e2e2e2;
        margin: 35px auto;
      }

      p {
        width: 80%;
        margin: 0 auto;
      }

      pre {
        width: 40%;
        background-color: #bebebe;
        padding-top: 20px;
        margin: 0 auto;
      }

      code {
        font-family: Arial, Helvetica, sans-serif;
        font-size: large;
      }

      .code-ex {
        width: 50%;
        font-family: sans-serif;
        font-style: italic;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
      }
    </style>
  </head>

  <body>
    <h2 class="title">Small practice, applaying different arrays methods</h2>
    <h4 class="title">
      Working with arrays: using loops as:
      <span class="emph">for, for...of </span>, operators
      <span class="emph">>, <, >=, <=</span>,<br />
      arrays methods:
      <span class="emph">forEach(), map(), filter(), find()</span>
      and arrow functions <span class="emph">=></span>
    </h4>

    <h4 class="task">
      <br />
      В нас є масив об'єктів 'people'.<br />
      1) Проітеруйте масив із використанням синтаксису ES5, а потім із
      використанням синтаксису ES6 та виведіть в консоль імена.<br />
      2) Використайте метод forEach для виведення у консоль властивостей
      об'єктів: a) традиційно та b) з використанням стрілочних функцій?<br />
      3) Використайте метод для масивів map щоб отримати масив імен із кількістю
      років в дужках. Виведіть результат в консоль.<br />
      4) Відфільтруйте вихідний масив по умові: відсікти тих, хто старше 33
      років та занести їх дані в масив 'зрілі', покажіть імена в консолі.
      Попробуйте виконати це традиційним фільтруванням та із використанням
      методу  filter.<br />
      5) Отримайте загальну суму коштів, яка була зароблена програмістами за
      місяць: а) викоридстовуючи традиційний підхід так і b) метод reduce.
      Виведіть результат в консоль.<br />
      6) Отримайте усі наявні дані на програміста з ім'ям Юля? Потім отримайте
      окремо її індекс. Виведіть її дані в консоль, окремо в консоль - її
      індекс.<br />
      7) Отримайте програмістів, зарплата яких сягає більше 30000 та виведіть їх
      в іншому форматі типу info: name(age) budget: money?
    </h4>

    <p>
      <code>
        <pre>
          // Вихідний масив:

          const people = [
            {name: 'Володимир', age: 45, budget: 40000},
            {name: 'Maксим', age: 38, budget: 28000},
            {name: 'Олена', age: 28, budget: 31000},
            {name: 'Петро', age: 25, budget: 5400},
            {name: 'Юля', age: 22, budget: 8700},
            {name: 'Марина', age: 39, budget: 51000}
          ]
        </pre>
      </code>
    </p>
    <br />

    <p><b>Рішення:</b></p>
    <br />

    <p>
      Для ітерації в ES5 використовуємо простий метод перебору елементів масиву
      <b>for</b>.<br />
      <br />
      А для ітерації в синтаксисі ES6 використаємо метод перебору елементів
      <b>for of</b> в якому достатньо отримати тільки значення.<br />
      Ось так:
    </p>
    <br />

    <p class="code-ex">
      <code>
        <pre>
          для ES5:
          for (let i = 0; i < people.length; i++) {
            console.log(people[i]);
          }

          та для ES6:
          for (person of people) {
            console.log(person);
          }
        </pre>
      </code>
    </p>
    <br />

    <script>
      const people = [
        { name: 'Володимир', age: 45, budget: 40000 },
        { name: 'Maксим', age: 38, budget: 28000 },
        { name: 'Олена', age: 28, budget: 31000 },
        { name: 'Петро', age: 25, budget: 5000 },
        { name: 'Юля', age: 22, budget: 8700 },
        { name: 'Марина', age: 39, budget: 51000 },
      ];

      for (let i = 0; i < people.length; i++) {
        console.log(people[i]);
      }

      for (person of people) {
        console.log(person);
      }
    </script>

    <p>
      Метод <b>arr.forEach()</b>, використовуємо класично та з використанням
      стрілочних функцій синтаксису ES6, ось так:
    </p>
    <br />

    <p class="code-ex">
      <code>
        <pre style="width: 55%">
          people.forEach(function(person, index, peopleArray) {
            console.log(person);
            console.log(index);
            console.log(peopleArray);
          })

          з використанням стрілочних фукнцій:
          people.forEach(person => console.log(person))
        </pre>
      </code>
    </p>
    <br />

    <script>
      people.forEach(function (person, index, peopleArray) {
        console.log(index);
      });

      people.forEach((person) => console.log(person));
    </script>

    <p>
      Для отримання масиву з імен, створимо спочатку нову змінну
      <i>peoplesName</i> куда присвоємо результат роботи
      методу <b>arr.map()</b>, новий масив із даними використовуючи шаблонізатор
      рядкових слово-виразів, ось так:
    </p>
    <br />

    <p class="code-ex">
      <code>
        <pre>
          const peoplesName = people.map(person => {
            return `${person.name} (${person.age})`;
          })
          console.log(peoplesName);
        </pre>
      </code>
    </p>
    <br />

    <script>
      const peoplesName = people.map((person) => {
        return `${person.name} (${person.age})`;
      });
      console.log(peoplesName);
    </script>

    <p>
      Для фільтрації традиційним способом, потрібно спочатку пройтись по масиву
      циклом <i>for</i>, та задати умову по якій методом push додавати людей і
      вивести в консоль.<br />
      Але коротше і більш ефективніше буде з використанням методу
      <b>arr.filter()</b>.
    </p>
    <br />

    <p class="code-ex">
      <code>
        <pre style="width: 55%">
          // традиційний спосіб
          const mature = [];
          for (let i = 0; i < people.length; i++) {
            if (people[i].age >= 33) {
              mature.push(people[i])
            }
          }
          console.log(mature);

          // використовуючи arr.filter()
          const mature = people.filter(person => {
            if(person.age >= 33) {
              return true
            }
          })
          console.log(mature);

          // або навіть можна в один рядок:
          const mature = people.filter(person => person.age >= 33);
        </pre>
      </code>
    </p>
    <br />

    <script>
      const mature = [];
      for (let i = 0; i < people.length; i++) {
        if (people[i].age >= 33) {
          mature.push(people[i]);
        }
      }
      console.log(mature);

      // const mature = people.filter(person => {
      //   if(person.age >= 33) {
      //     return true
      //   }
      // })
      // console.log(mature);
      // const mature = people.filter(person => person.age >= 33)
    </script>

    <p>
      Для вирішення завдання з підрахунком загальної суми, можна підійти як
      традиційним способом так і з використанням методу <b>arr.reduce()</b>, ось
      так:
    </p>
    <br />

    <p class="code-ex">
      <code>
        <pre style="width: 65%">
          // традиційним підходом:
          let totalAmmount = 0;
          for (let i = 0; i < people.length; i++) {
            totalAmmount += people[i].budget;
          }
          console.log(totalAmmount);
    
          // використовуючи метод arr.reduce():
          const totalAmmount = people.reduce((acc, person) => {
            return acc + person.budget;
          }, 0)
          console.log(totalAmmount);
          
          // або навіть можна в один рядок:
          const totalAmmount = people.reduce((acc, person) => acc + person.budget, 0);
        </pre>
      </code>
    </p>
    <br />

    <script>
      // let totalAmmount = 0;
      // for (let i = 0; i < people.length; i++) {
      //   totalAmmount += people[i].budget;
      // }
      // console.log(totalAmmount);

      // const totalAmmount = people.reduce((acc, person) => {
      //   return acc + person.budget;
      // }, 0)
      // console.log(totalAmmount);

      const totalAmmount = people.reduce(
        (acc, person) => acc + person.budget,
        0
      );
    </script>

    <p>
      Використаємо метод масивів <b>arr.find()</b> для отримання імені
      програміста <i>'Юля'</i>, a метод масивів <b>arr.findIndex()</b> для
      отримання її індекса, ось так:
    </p>
    <br />

    <p class="code-ex">
      <code>
        <pre style="width: 60%">
          const julia = people.find(person => person.name === 'Юля');
          console.log(julia);

          const juliaIndex = people.findIndex(person => person.name === 'Юля');
          console.log(juliaIndex);
        </pre>
      </code>
    </p>
    <br />

    <script>
      const julia = people.find((person) => person.name === 'Юля');
      console.log(julia);

      const juliaIndex = people.findIndex((person) => person.name === 'Юля');
      console.log(juliaIndex);
    </script>

    <p>
      Для виведення програмістів в потрібному форматі, зарплата яких вища ніж
      30тисяч, використаємо методи <b>arr.map()</b> та <b>arr.filter()</b>,
      причому, спочатку необхідно профільтрувати та залишити тих у яких зарплата
      відповідає умові, а потім задати потрібний формат через метод <i>map</i>,
      ось так:
    </p>
    <br />

    <p class="code-ex">
      <code>
        <pre style="width: 60%">
          const welthyProgrammers = people
            .filter(person => person.budget > 30000)
            .map(person => {
              return {
                info: `${person.name} (${person.age})`,
                salary: `${person.budget}`
              }
          });
          console.log(welthyProgrammers);
        </pre>
      </code>
    </p>
    <br />
    <script>
      const welthyProgrammers = people
        .filter((person) => person.budget > 30000)
        .map((person) => {
          return {
            info: `${person.name} (${person.age})`,
            salary: `${person.budget}`,
          };
        });
      console.log(welthyProgrammers);
    </script>
    <br /><br />
  </body>
</html>
