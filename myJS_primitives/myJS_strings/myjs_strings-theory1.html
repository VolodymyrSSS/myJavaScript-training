<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>myjs-primitives: strings</title>
    <style>
    body {
        background-color: tan;
        margin: 0;
        font-family: Verdana, sans-serif;
    }

    .title {
        color: red;
        text-align: center;
        font-weight:700;
    }

    .code-ex {
        width: 50%;
        font-family: sans-serif;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
    }

    .task{
        width: 50%;
        padding: 15px 25px;
        color: navy;
        background-color: #e2e2e2;
        margin: 35px auto;
    }

    .code-ex {
        width: 50%;
        font-family: sans-serif;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
    }

    p {
        width: 80%;
        margin: 0 auto;
    }

    table {
        border-collapse: collapse;
        width: 60%;
        margin: 0 auto;
    }

    th, td {
        text-align: center;
        padding: 8px;
        border: 1px solid brown;
    }

    tr:nth-child(even) {background-color: wheat;}

    tr:nth-child(odd) {background-color: #bebebe;}

    th {
        background-color: brown;
        color: wheat;
    }
    </style>
</head>
<body>

    <h2 class="title">myJS-primitives: строки: кавычки: '', "", ``\${…};  спецсимволы:\n, \', \\, \uXXXX и др.; длина строки: str.length</h2>

    <p>В JavaScript любые текстовые данные являются строками. Не существует отдельного типа «символ», 
        который есть в ряде других языков.<br>
        Внутренний формат для строк — всегда UTF-16, вне зависимости от кодировки страницы.
    </p><br>

    <h3>Кавычки</h3>

    <p>В JavaScript есть разные типы кавычек.<br>
       Строку можно создать с помощью одинарных, двойных либо обратных кавычек:</p><br>

    <p class="code-ex">
        <code>
            let single = <b>'</b>single-quoted<b>'</b>;<br>
            let double = <b>"</b>double-quoted<b>"</b>;<br>
            let backticks = <b>`</b>backticks<b>`</b>;<br>
        </code>
    </p><br>

    <p>Одинарные и двойные кавычки в языке с незапамятных времён: тогда потребность в многострочных строках не учитывалась. 
        Что касается обратных кавычек, они появились существенно позже, и поэтому они гибче.Одинарные и двойные кавычки 
        работают, по сути, одинаково, а если использовать обратные кавычки, то в такую 
        строку мы сможем вставлять произвольные выражения, обернув их в <b>${…}</b>:
    </p><br>

    <p class="code-ex">
        <code>
            function sum(a, b) {<br>
                return a + b;<br>
              }<br>
              <br>
              console.log(`1 + 2 = ${sum(1, 2)}.`); // 1 + 2 = 3.<br>
        </code>
    </p><br>

    <script>
        function sum(a, b) {
            return a + b;
        }
              
        console.log(`1 + 2 = ${sum(1, 2)}.`); // 1 + 2 = 3.
    </script>

    <p>Ещё одно преимущество обратных кавычек — они могут занимать более одной строки, вот так:</p><br>

    <p class="code-ex">
        <code>
            let guestList = `Guests:<br>
            * John<br>
            * Pete<br>
            * Mary<br>
            `;<br>
            <br>
            console.log(guestList); // список гостей, состоящий из нескольких строк<br>
        </code>
    </p><br>

    <script>
        let guestList = `Guests:
          * John
          * Pete
          * Mary
          * Sally
          * Brian
          * Sue
          `;

        console.log(guestList); // список гостей, состоящий из нескольких строк
    </script>

    <p>Если попытаться использовать точно так же одинарные или двойные кавычки, то будет ошибка.<br><br>
        Обратные кавычки также позволяют задавать «шаблонную функцию» перед первой обратной кавычкой. Используемый 
        синтаксис: func`string`. Автоматически вызываемая функция func получает строку и встроенные в неё выражения 
        и может их обработать. Подробнее об этом можно прочитать в документации. Если перед строкой есть выражение, 
        то шаблонная строка называется «теговым шаблоном». Это позволяет использовать свою шаблонизацию для строк, 
        но на практике теговые шаблоны применяются редко.
    </p><br>

    <h3>Спецсимволы</h3>

    <p>Многострочные строки также можно создавать с помощью одинарных и двойных кавычек, используя так называемый 
        «символ перевода строки», который записывается как <b>\n:</b>
    </p><br>

    <p class="code-ex">
        <code>
            let guestList = "Guests:\n * John\n * Pete\n * Mary";<br>
            console.log(guestList); // список гостей, состоящий из нескольких строк<br>
        </code>
    </p><br>

    <p>А вот пример, где две строки эквивалентны, просто записаны по-разному и одной использован спецсимвол:</p><br>

    <p class="code-ex">
        <code>
            // перевод строки добавлен с помощью символа перевода строки<br>
            let str1 = 'Hello<b>\n</b>World';<br>
            <br>
            // многострочная строка, созданная с использованием обратных кавычек<br>
            let str2 = `Hello<br>
            World`;<br>
            <br>
            console.log(<b>str1 == str2</b>); // <b>true</b><br>
        </code>
    </p><br>

    <!-- <script>
        'use strict';

        // перевод строки добавлен с помощью символа перевода строки
        let str1 = "Hello\n World";

        // многострочная строка, созданная с использованием обратных кавычек
        let str2 = `Hello
        World`;

        console.log(str1 == str2); // true
    </script> -->

    <p>Есть и другие, реже используемые спецсимволы. Вот список:</p><br>

    <table>
        <tr>
        <th>Символ</th>
        <th>Описание</th>
        </tr>
        <tr>
        <td>\n</td>
        <td>Перевод строки</td>
        </tr>
        <tr>
        <td>\r</td>
        <td>Возврат каретки: самостоятельно не используется. В текстовых файлах Windows для перевода 
            строки используется комбинация символов \r\n.</td>
        </tr>
        <tr>
        <td>\', \"</td>
        <td>Кавычки</td>
        </tr>
        <tr>
        <td>\\</td>
        <td>Обратный слеш</td>
        </tr>
        <tr>
        <td>\t</td>
        <td>Знак табуляции</td>
        </tr>
        <tr>
        <td>\b, \f, \v</td>
        <td>Backspace, Form Feed и Vertical Tab — оставлены для обратной совместимости, сейчас не используются.</td>
        </tr>
        <tr>
        <td>\xXX</td>
        <td>Символ с шестнадцатеричным юникодным кодом XX, например, '\x7A' — то же самое, что 'z'.</td>
        </tr>
        <tr>
        <td>\uXXXX</td>
        <td>Символ в кодировке UTF-16 с шестнадцатеричным кодом XXXX, например, <b>\u00A9 — юникодное представление 
            знака копирайта, ©</b>. Код должен состоять ровно из 4 шестнадцатеричных цифр.</td>
        </tr>
        <tr>
        <td>\u{X…XXXXXX} (от 1 до 6 шестнадцатеричных цифр)</td>
        <td>Символ в кодировке UTF-32 с шестнадцатеричным кодом от U+0000 до U+10FFFF. Некоторые редкие символы 
            кодируются двумя 16-битными словами и занимают 4 байта. Так можно вставлять символы с длинным кодом.</td>
        </tr>
    </table>
    <br>

    <p class="code-ex">Примеры с Юникодом:<br>
        <code>
            // ©<br>
            console.log( '\u00A9' );<br>
            <br>
            // Длинные юникодные коды<br>
            // 佫, редкий китайский иероглиф<br>
            console.log( '\u{20331}' );<br>
            // 😍, лицо с улыбкой и глазами в форме сердец<br>
            console.log( '\u{1F60D}' );<br>
        </code>
    </p><br>

    <script>
        // ©
        console.log( "\u00A9" );

        // Длинные юникодные коды
        // 佫, редкий китайский иероглиф
        console.log( "\u{20331}" );
        // 😍, лицо с улыбкой и глазами в форме сердец
        console.log( "\u{1F60D}" );
    </script>

    <p>Все спецсимволы начинаются с обратного слеша, \ — так называемого «символа экранирования».<br>
        Он также используется, если необходимо вставить в строку кавычку. К примеру:
    </p><br>

    <p class="code-ex">
        <code>
            console.log( 'I\'m the Woldemor!' ); // I'm the Woldemor!<br>
        </code>
    </p><br>

    <script>
        console.log( 'I\'m the Woldemor!' ); // I'm the Woldemor!
    </script>

    <p>Здесь перед входящей в строку кавычкой необходимо добавить обратный слеш — \' — иначе она бы обозначала окончание строки.<br>
        Разумеется, требование экранировать относится только к таким же кавычкам, как те, в которые заключена строка. Так что мы 
        можем применить и более элегантное решение, использовав для этой строки двойные или обратные кавычки:
    </p><br>
    
    <p class="code-ex">
        <code>
            console.log( `I'm the Woldemor!` ); // I'm the Woldemor!<br>
        </code>
    </p><br>

    <p>Заметим, что обратный слеш \ служит лишь для корректного прочтения строки интерпретатором, но он не записывается 
        в строку после её прочтения. Когда строка сохраняется в оперативную память, в неё не добавляется символ \. Вы можете 
        явно видеть это в выводах alert в примерах выше.<br>
        Но что, если нам надо добавить в строку собственно сам обратный слеш \?<br>
        Это можно сделать, добавив перед ним… ещё один обратный слеш!
    </p><br>

    <p class="code-ex">
        <code>
            console.log( `The backslash: \\` ); // The backslash: \<br>
        </code>
    </p><br>

    <script>
        console.log( `The backslash: \\` ); // The backslash: \
    </script>
    
    <h3>Длина строки</h3>

    <p>Свойство length содержит длину строки:</p><br>

    <p class="code-ex">
        <code>
            console.log( `My\n`<b>.length</b> ); // 3 - внимание! \n — это один спецсимвол<br>
        </code>
    </p><br>

    <script>
        console.log( `My\n`.length ); // 3
    </script>

    <p>Обратите внимание, length — это свойство!<br>
       Бывает так, что люди с практикой в других языках случайно пытаются вызвать его, 
       добавляя круглые скобки: они пишут str.length() вместо str.length. Это не работает.<br>
       Так как <b>str.length — это числовое свойство</b>, а не функция, добавлять скобки не нужно.
    </p><br>

</body>

</html>