<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Array - method map</title>
    <style>
      body {
        background-color: tan;
        margin: 0;
        font-family: Verdana, sans-serif;
      }

      .emph {
        color: red;
      }

      .title {
        color: navy;
        text-align: center;
        font-weight: 700;
      }

      .code-ex {
        width: 50%;
        font-family: sans-serif;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
      }

      .task {
        width: 50%;
        padding: 15px 25px;
        color: navy;
        background-color: #e2e2e2;
        margin: 35px auto;
      }

      .code-ex {
        width: 50%;
        font-family: sans-serif;
        font-style: italic;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
      }

      p {
        width: 80%;
        margin: 0 auto;
      }

      pre {
        font-family: Arial, Helvetica, sans-serif;
        font-size: larger;
        font-weight: 700;
      }
    </style>
  </head>

  <body>
    <h2 class="title">Working with Array - use the methods <span class="emph">map</span>
    </h2>

    <h4 class="task">
      Перетворення значень в масивах.<br> 
      В нас є масив 'arr', який складається з слово-виразів. Потрібно, спочатку, перетворити його на масив з цифр, створивши функцію 'arrayToNumbers()', а потім перетворити його на масив булевих значень через функцію 'arrayToBooleans()'.
    </h4>

    <p class="code-ex"><br>
      Приклад<br>
      <code><br>
        const arr = ['0', '1', '2', '3']<br>
        <br>
        const numbers = arrayToNumbers(arr); // [0, 1, 2, 3]<br>
        <br>
        const booleans = arrayToBooleans(numbers); // [false, true, true, true]<br>
        <br>
      </code>
    </p><br>

    <p><b>Відповідь</b>:</p><br>

    <p>Необхідно зазначити, що JS, з переліку усіх примітивних типів даних: string, number, boolean, symbol, null, undefined та bigint, а з них string, number, boolean і symbol дозволяє працювати як з об'єктами і для них є свої відповідні методи; для прикладу: str.toUpperCase(), або toFixed(n) і т. д. Всі примітиви, крім null і undefined, надають безліч корисних методів. При цьому, примітиви, створюють власну 'об'єкт-обгортку', і після виконання, вона видаляється.<br>
    Є також випадки, коли нам потрібно явно перетворити значення в очікуваний тип.<br> 
    Рядкове (слово-виразове) перетворення відбувається, коли потрібне представлення чогось у вигляді рядка (слово-виразу). Для цього використовують функцію <b>String(value)</b>. Перетворення відбувається очевидним чином. false стає "false", null стає "null" і т.п.
    Ось, для прикладу: let str = String(123); // перетворює число 123 у слово-вираз "123";
    ще приклади:
    String(false)  в 'false'<br>
    String(true) в 'true'<br>  
    <br>
    Коли необхідно перетворити значення у число, ми можемо використовувати функцію <b>Number(value)</b>. Ось, для прикладу: let num = Number("123"); // перетворює слово-вираз "123" в число 123<br>
    ще приклади:<br>
    Number("   123   ")  в 123<br>
    Number("123z") в NaN бо тут помилка считування числа на місці z<br>
    Number(true) в 1<br>
    Number(false) в 0<br>
    Number(null) в 0<br>
    Number(undefined) в NaN (не в 0!)<br>
    Якщо рядок не може бути явно приведений до числа, то результатом перетворення буде NaN.<br>
    <br>
    Логічне перетворення найпростіше, тут викорисовується функція <b>Boolean(value)</b>.
    Правила перетворення у цьому випадку такі, ті значення, які інтуїтивно 'порожні', на кшталт 0, порожнього рядка, null, undefined і NaN, стають false, усі інші, стають true.<br>
    Boolean("Приiт!") в true<br>
    Boolean(1) в true<br>
    Boolean(0) в false<br>
    Boolean("") в false<br>
    Boolean(" ") в true<br>
    Boolean("0") в true<br>
    <br>
    Отже використання функцій(методів): String / Number / Boolean (увага - без оператора new!) - можливо  і корисно. Вони перетворюють значення у відповідний примітивний тип: в рядок, в число, в булевий тип.<br>
    <br>
     Для вирішення завдання найкраще підійде метод для перетворення масивів <b>map</b>. Він викликає функцію для кожного елемента масиву і повертає масив результатів виконання цієї функції.
    <br>
    Отже, код рішення буде:
    </p>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          const arr = ['0', '1', '2', '3'];
          const arrayToNumbers = (arr) => arr.map(Number);
          const numbers = arrayToNumbers(arr);
          console.log(numbers); // [0, 1, 2, 3]

          const arrayToBooleans = (arr) => arr.map(Boolean);
          const booleans = arrayToBooleans(numbers);
          console.log(booleans); // [false, true, true, true]
        </pre>
      </code>
    </p>
    
    <script>
      console.log(Boolean("")); // false
      console.log(Boolean(" ")); // true
      console.log(Boolean("0")); // true
      console.log(Boolean(0)); // false
      console.log(Boolean(undefined)); // false

      const arr = ['0', '1', '2', '3'];
      const arrayToNumbers = (arr) => arr.map(Number);
      const numbers = arrayToNumbers(arr);
      console.log(numbers); // [0, 1, 2, 3]

      const arrayToBooleans = (arr) => arr.map(Boolean);
      const booleans = arrayToBooleans(numbers);
      console.log(booleans); // [false, true, true, true]
    </script>
  </body>
</html>
