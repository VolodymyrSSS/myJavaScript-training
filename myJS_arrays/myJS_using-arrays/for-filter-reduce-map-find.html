<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Arrays, methods</title>
    <style>
      body {
        background-color: tan;
        margin: 0;
        font-family: Verdana, sans-serif;
      }

      .title {
        color: red;
        text-align: center;
        font-weight: 700;
      }

      .code-ex {
        width: 50%;
        font-family: sans-serif;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
      }

      .task {
        width: 50%;
        padding: 15px 25px;
        color: navy;
        background-color: #e2e2e2;
        margin: 35px auto;
      }

      .code-ex {
        width: 50%;
        font-family: sans-serif;
        font-style: italic;
        background-color: #bebebe;
        font-size: large;
        padding-left: 15px;
        margin: 0 auto;
      }

      p {
        width: 80%;
        margin: 0 auto;
      }

      pre {
        font-family: Arial, Helvetica, sans-serif;
        font-size: larger;
        font-weight: 700;
        margin-left: 95px;
      }
    </style>
  </head>

  <body>
    <h2 class="title">Arrays: working with array's methods</h2>

    <h4 class="task">
      В нас є масив об'єктів 'people'.<br>
      1) Проітеруйте масив із використанням синтаксису ES5, а потім із використанням синтаксису ES6?<br>
      2) Використайте метод forEach для виведення у консоль властивостей об'єктів традиційно та з використанням стрілочних функцій?<br>
      3) Використайте метод для масивів map щоб отримати масив імен із кількістю років в дужках?<br>
      4) Відфільтруйте вихідний масив по умові: відсікти тих, хто молодше 33 років та занести їх дані в масив 'зрілі'. Попробуйте виконати це традиційним фільтруванням та із використанням методу  filter?<br>
      5) Отримайте загальну суму коштів, яка була зароблена програмістами за місяць викоридстовуючи традиційний підхід так і метод reduce?<br>
      6) Отримайте дані на програміста, який має ім'я Юля? Потім отримайте індекс програміста, який має ім'я Юля?<br>
      7) Отримайте програмістів, зарплата яких сягає більше 30000 та виведіть їх в іншому форматі типу info: name(age) budget: money?
    </h4>

    <p class="code-ex"><br>
      Вихідний масив:<br>
      <code><br>
        const people = [<br>
        &nbsp {name: 'Володимир', age: 45, budget: 40000},<br>
        &nbsp {name: 'Maксим', age: 38, budget: 28000},<br>
        &nbsp {name: 'Олена', age: 28, budget: 31000},<br>
        &nbsp {name: 'Петро', age: 25, budget: 5400},<br>
        &nbsp {name: 'Юля', age: 22, budget: 8700},<br>
        &nbsp {name: 'Марина', age: 39, budget: 51000}<br>
      ]<br>
        <br>
      </code>
  </p><br>

    <p><b>Рішення</b>:</p><br>

    <p>Для ітерації в ES5 використовуємо простий метод перебору елементів масиву <b>for</b>.<br>
      <br>
      А для ітерації в синтаксисі ES6 використаємо метод перебору елементів <b>for of</b> в якому наголос робиться на отримання значень.<br>
      Ось так:
    </p>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          для ES5:
          for (let i = 0; i < people.length; i++) {
            console.log(people[i]);
          }

          та для ES6:
          for (person of people) {
            console.log(person);
          }
        </pre>
      </code>
    </p>

    <p>Метод forEach, використовуємо класично та з використанням стрілочних функцій синтаксису ES6, ось так:</p>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          people.forEach(function(person, index, peopleArray) {
            console.log(person);
            console.log(index);
            console.log(peopleArray);
          })

          з використанням стрілочних фукнцій:
          people.forEach(person => console.log(person))
        </pre>
      </code>
    </p><br>

    <p>
      Для отримання масиву з імен, створимо спочатку нову змінну peoplesName куда присвоємо результат роботи методу map із потрібними даними для отримання використовуючи шаблонізатор слово-виразів, ось так:
    </p><br>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          const peoplesName = people.map(person => {
            return `${person.name} (${person.age})`;
          })
          console.log(peoplesName);
        </pre>
      </code>
    </p><br>

    <p>
      Для фільтрації традиційним способом, потрібно спочатку пройтись по масиву циклом for, та задати умову по якій методом push додавати людей і вивести в консоль.
    </p><br>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          const mature = [];
          for (let i = 0; i < people.length; i++) {
            if (people[i].age >= 33) {
              mature.push(people[i])
            }
          }
          console.log(mature);
        </pre>
      </code>
    </p><br>

    <p>
      Але коротше і більш ефективніше буде з використанням методу filter, ось так:
    </p>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          const mature = people.filter(person => {
            if(person.age >= 33) {
              return true
            }
          })
          console.log(mature);
          
          або навіть можна ще більше скоротити:
          const mature = people.filter(person => person.age >= 33);    
        </pre>
      </code>
    </p><br>

    <p>
     Для вирішення завдання з підрахунком загальної суми, можна підійти як традиційним підходом так і з використанням методу reduce ось так:
    </p>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          // традиційним підходом:
          let totalAmmount = 0;
          for (let i = 0; i < people.length; i++) {
            totalAmmount += people[i].budget;
          }
          console.log(totalAmmount);
    
          // використовуючи метод reduce:
          const totalAmmount = people.reduce((acc, person) => {
            return acc + person.budget;
          }, 0)
          console.log(totalAmmount);
          
          або навіть можна ще більше скоротити:
          const totalAmmount = people.reduce((acc, person) => acc + person.budget, 0);
        </pre>
      </code>
    </p><br>
    <p>
      Використаємо метод масивів find для отримання імені програміста Юля, ось так:
    </p>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          const julia = people.find(person => person.name === 'Юля');
          console.log(julia);
        </pre>
      </code>
    </p><br>

    <p>
      Використаємо метод масивів findIndex для отримання індекса програміста Юля, ось так:
    </p> 
    
    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          const juliaIndex = people.findIndex(person => person.name === 'Юля');
          console.log(juliaIndex);
        </pre>
      </code>
    </p><br>

    <p>
      Для виведення програмістів в іншому форматі, зарплата яких вища ніж 30тисяч, використаємо методи map та filter, причому, спочатку необхідно профільтрувати та залишити тих у яких зарплата відповідає умові, а потім задати потрібний формат через метод  map, ось так:
    </p>

    <p class="code-ex" style="width: 70%">
      <code>
        <pre>
          const welthyProgrammers = people
            .filter(person => person.budget > 30000)
            .map(person => {
              return {
                info: `${person.name} (${person.age})`,
                salary: `${person.budget}`
              }
          });
          console.log(welthyProgrammers);
        </pre>
      </code>
    </p><br>

    <script>
      const people = [
        {name: 'Володимир', age: 45, budget: 40000},
        {name: 'Maксим', age: 38, budget: 28000},
        {name: 'Олена', age: 28, budget: 31000},
        {name: 'Петро', age: 25, budget: 5000},
        {name: 'Юля', age: 22, budget: 8700},
        {name: 'Марина', age: 39, budget: 51000}
      ]

      // for (let i = 0; i < people.length; i++) {
      //   console.log(people[i]);
      // }

      // for (person of people) {
      //   console.log(person);
      // }

      // people.forEach(function(person, index, peopleArray) {
      //   console.log(index);
      // })

      // people.forEach(person => console.log(person))

      // const peoplesName = people.map(person => {
      //   return `${person.name} (${person.age})`;
      // })
      // console.log(peoplesName);

      // const mature = [];
      // for (let i = 0; i < people.length; i++) {
      //   if (people[i].age >= 33) {
      //     mature.push(people[i])
      //   }
      // }
      // console.log(mature);

      // const mature = people.filter(person => {
      //   if(person.age >= 33) {
      //     return true
      //   }
      // })
      // console.log(mature);
      // const mature = people.filter(person => person.age >= 33)

      // let totalAmmount = 0;
      // for (let i = 0; i < people.length; i++) {
      //   totalAmmount += people[i].budget;
      // }
      // console.log(totalAmmount);

      // const totalAmmount = people.reduce((acc, person) => {
      //   return acc + person.budget;
      // }, 0)
      // console.log(totalAmmount);

      // const totalAmmount = people.reduce((acc, person) => acc + person.budget, 0);

      const julia = people.find(person => person.name === 'Юля');
      console.log(julia);

      const juliaIndex = people.findIndex(person => person.name === 'Юля');
      console.log(juliaIndex);

      const welthyProgrammers = people
        .filter(person => person.budget > 30000)
        .map(person => {
          return {
            info: `${person.name} (${person.age})`,
            salary: `${person.budget}`
          }
      });
      console.log(welthyProgrammers);

    </script>
  </body>
</html>
